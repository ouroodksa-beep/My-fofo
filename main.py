import telebot
import requests
from bs4 import BeautifulSoup
import random
import re

# Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒÙ
API_TOKEN = '8534031232:AAHwBJ0HZvOlbDmeevlbd2zM9FvSIfeskjk'
bot = telebot.TeleBot(API_TOKEN)

# --- Ø¨Ù†Ùƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ Ø§Ù„Ø¶Ø®Ù… (Ø£ÙƒØ«Ø± Ù…Ù† 100 Ø¬Ù…Ù„Ø© ÙˆØµÙŠØºØ©) ---

# Ù…Ø±Ø§Ø¯ÙØ§Øª Ù„ÙƒÙ„Ù…Ø© "Ø¨ÙƒÙ…" Ùˆ "Ø§Ù„Ø³Ø¹Ø±"
price_labels = [
    "Ø¨ÙƒÙ…ØŸ", "Ø§Ù„Ø³Ø¹Ø±:", "Ø¨ÙƒÙ… Ù‡Ø§Ù„Ø²ÙŠÙ†ØŸ", "Ù‚ÙŠÙ…Ø© Ø§Ù„Ù„Ù‚Ø·Ø©:", "Ø¨ÙƒÙ… Ù†Ø®Ù„ØµØŸ", 
    "Ø³Ø¹Ø±Ù‡ Ø§Ù„Ù„Ù‚Ø·Ø©:", "Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø·Ø¹Ø©:", "Ø¨ÙƒÙ… ØªØªÙˆÙ‚Ø¹ÙˆÙ†ØŸ", "Ø§Ù„Ø³Ø¹Ø± ÙŠØ§Ù„Ø±Ø¨Ø¹:",
    "Ø¨ÙƒÙ… Ù‡Ø§Ù„Ø­Ù„ÙˆØŸ", "ÙƒÙ… ÙŠØ³ÙˆÙ‰ØŸ", "Ø³Ø¹Ø±Ù‡ Ø§Ù„Ø­Ø§Ù„ÙŠ:", "Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ù†ØªØ¬:"
]

# Ø¬Ù…Ù„ Ø§ÙØªØªØ§Ø­ÙŠØ© (Ø£ÙƒØ«Ø± Ù…Ù† 50 Ø¬Ù…Ù„Ø©)
intros = [
    "ÙŠØ§ Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡.. Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ù„Ù‚Ø·Ø©! ğŸ˜", "Ø¬Ø¨Øª Ù„ÙƒÙ… Ø²ÙŠÙ† Ø§Ù„Ù‚Ù†ØµØ§Øª ğŸ”¥", "Ù„Ù‚Ø·Ø© Ø§Ù„ÙŠÙˆÙ… Ù„Ø§ ØªÙÙˆØªÙƒÙ… âœ¨", 
    "Ø§Ø¨Ø´Ø±ÙˆØ§ Ø¨Ø§Ù„Ø²ÙŠÙ†.. Ø´ÙˆÙÙˆØ§ ÙˆØ´ Ù„Ù‚ÙŠØª ğŸ’", "Ù‚Ù†ØµØ© Ø§Ù„ÙŠÙˆÙ… ÙˆØµÙ„Øª ÙŠØ§Ù„Ø±Ø¨Ø¹ ğŸ¯", "Ù„Ù‚ÙŠØª Ù„ÙƒÙ… Ø´ÙŠ ÙŠÙØªØ­ Ø§Ù„Ù†ÙØ³ ğŸ˜",
    "ØªØ¨ÙˆÙ† Ø§Ù„ØµØ¯Ù‚ØŸ Ù‡Ø§Ù„Ù‚Ø·Ø¹Ø© Ù…Ø§ ØªØªÙÙˆØª ğŸš€", "Ø´ÙˆÙÙˆØ§ ÙˆØ´ Ø·Ø­Øª Ø¹Ù„ÙŠÙ‡.. Ù„Ù‚Ø·Ø© Ù…Ù„ÙƒÙŠØ© ğŸ‘‘", "Ø§Ù„Ø²ÙŠÙ† ÙˆØµÙ„.. Ø§Ù„Ø­Ù‚ÙˆØ§ Ø¹Ù„ÙŠÙ‡! ğŸ”¥",
    "ÙŠØ§ Ù…Ø³Ø§ Ø§Ù„Ø²ÙŠÙ†.. Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ø¬Ù…Ø§Ù„ ğŸŒ¸", "Ù„Ù‚Ø·Ø© Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø§Ù„ÙØ®Ø§Ù…Ø© âœ¨", "Ù‡Ø°Ø§ Ù„Ù‚Ø·Ø© Ø§Ù„Ø¹Ù…Ø± ğŸ¯",
    "ÙŠØ§ Ø¨Ù„Ø§Ø´ Ø¹Ù„Ù‰ Ù‡Ø§Ù„Ø²ÙŠÙ†.. Ø´ÙˆÙÙˆØ§! ğŸ’°", "ØªØ¨ÙˆÙ† Ù‚Ø·Ø¹Ø© ØªØ¨ÙŠØ¶ Ø§Ù„ÙˆØ¬Ù‡ØŸ Ù‡Ø°ÙŠ Ù‡ÙŠ ğŸ’", "Ù‚Ù†ØµØªÙ‡Ø§ Ù„ÙƒÙ… Ù…Ù† Ù‚Ù„Ø¨ Ø£Ù…Ø§Ø²ÙˆÙ† ğŸ”¥",
    "Ù„Ø§ ØªØ¯ÙˆØ±ÙˆÙ† ØºÙŠØ±Ù‡.. Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ğŸ¯", "Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ø²ÙŠÙ† ÙˆØ´ ÙŠÙ‚ÙˆÙ„ ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø© ğŸ˜", "Ù„Ù‚Ø·Ø© Ø®Ø±Ø§ÙÙŠØ© ÙˆØ³Ø¹Ø±Ù‡Ø§ Ø¨Ø·Ù„ âœ¨",
    "ÙŠØ§ Ø­ÙŠ Ø§Ù„Ù„Ù‡ Ù‡Ø§Ù„Ø·Ù„Ø©.. Ø´ÙŠ ÙÙ†Ø§Ù† ğŸŒŸ", "Ù„Ù‚Ø·Ø© Ù…Ø§ ÙŠØ¨ÙŠ Ù„Ù‡Ø§ ØªÙÙƒÙŠØ±! âœ…", "ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ø§Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø§Ù„Ø²ÙŠÙ†.. Ø´ÙˆÙ! ğŸ”¥",
    "Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ù‚Ù†ØµØ© Ø§Ù„Ù…ØªØ¹ÙˆØ¨ Ø¹Ù„ÙŠÙ‡Ø§ ğŸ¯", "Ù„Ù‚ÙŠØª Ù„ÙƒÙ… Ø´ÙŠ ÙŠØ¨Ø±Ø¯ Ø§Ù„Ø®Ø§Ø·Ø± ğŸ˜", "Ø§Ù„Ø²ÙŠÙ† ÙŠÙØ±Ø¶ Ù†ÙØ³Ù‡.. Ø´ÙˆÙÙˆØ§ Ù‡Ø°ÙŠ âœ¨",
    "ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ø§Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„ÙØ®Ø§Ù…Ø© ğŸ’", "Ù…Ù† Ø£ÙØ¶Ù„ Ù…Ø§ Ø´ÙØª Ø§Ù„ÙŠÙˆÙ… Ø¨ØµØ±Ø§Ø­Ø© ğŸ”¥", "Ù„Ù‚Ø·Ø© Ù…Ù„ÙƒÙŠØ© ÙˆØ³Ø¹Ø±Ù‡Ø§ Ù„Ù‚Ø·Ø© ğŸ‘‘",
    "ØªØ¨ÙˆÙ† Ø´ÙŠ ÙŠØ¨ÙŠØ¶ Ø§Ù„ÙˆØ¬Ù‡ØŸ Ù„Ù‚ÙŠØª Ù„ÙƒÙ… Ù‡Ø°Ø§ ğŸŒŸ", "ÙŠØ§ Ù…Ø³Ø§ Ø§Ù„Ø£Ù†ÙˆØ§Ø±.. Ø´ÙˆÙÙˆØ§ ÙˆØ´ Ø¬Ø¨Øª Ù„ÙƒÙ… âœ¨", "Ù‚Ù†ØµØ© Ø³Ø±ÙŠØ¹Ø© ÙˆÙ„Ø°ÙŠØ°Ø© Ù„Ø§ ØªÙÙˆØªÙƒÙ… ğŸ¯",
    "Ø´ÙˆÙÙˆØ§ Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ§Ù„ØªÙ†Ø³ÙŠÙ‚ ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø© ğŸ˜", "Ù„Ù‚Ø·Ø© Ù„Ù„ÙŠ ÙŠÙ‚Ø¯Ø±ÙˆÙ† Ø§Ù„Ø²ÙŠÙ† ÙˆØ¨Ø³ ğŸ”¥", "Ù‡Ø°ÙŠ Ø§Ù„Ù„ÙŠ ÙŠÙ‚Ø§Ù„ Ø¹Ù†Ù‡Ø§ ØµÙŠØ¯Ø© ğŸ¯",
    "ÙŠØ§ Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡.. Ø§Ø¨Ø´Ø±ÙˆØ§ Ø¨Ø§Ù„Ø®ÙŠØ± Ø´ÙˆÙÙˆØ§ Ù‡Ø°Ø§ âœ¨", "Ù…Ù† Ø£Ø±ÙˆØ¹ Ù…Ø§ Ù‚Ù†ØµØª Ø§Ù„ÙŠÙˆÙ… ÙŠØ§Ù„Ø±Ø¨Ø¹ ğŸ’", "Ø´ÙˆÙÙˆØ§ ÙˆØ´ ÙˆÙ‚Ø¹Øª Ø¹Ù„ÙŠÙ‡ Ø¹ÙŠÙ†ÙŠ.. Ø¨Ø·Ù„! ğŸ”¥",
    "Ù„Ù‚Ø·Ø© Ø§Ù„ÙŠÙˆÙ… ÙˆØµÙ„Øª.. Ø³Ù…Ù‘ÙˆØ§ Ø¨Ø§Ù„Ù„Ù‡ ğŸ˜", "ÙŠØ§ Ø­ÙŠ Ø§Ù„Ù„Ù‡ Ø§Ù„ÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ÙØ±Ø©.. Ø´ÙˆÙÙˆØ§ Ù‡Ø°Ø§ âœ¨", "ØªØ¨ÙˆÙ† Ù‚Ø·Ø¹Ø© Ø¹Ù…Ù„ÙŠØ© ÙˆÙƒØ´Ø®Ø©ØŸ Ù‡Ø°ÙŠ Ù‡ÙŠ ğŸŒŸ",
    "Ù„Ù‚ÙŠØª Ù„ÙƒÙ… Ø´ÙŠ Ù…Ø§ ÙŠØ·ÙˆÙ Ø£Ø¨Ø¯Ø§Ù‹ ğŸ”¥", "ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ø§Ù„Ø²ÙŠÙ† ÙƒÙ„Ù‡.. Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ù‚Ø·Ø¹Ø© ğŸ’", "Ù‚Ù†ØµØ© Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙŠ ÙŠØ¨ÙŠ Ø§Ù„ÙƒÙŠÙ ğŸ¯",
    "Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ´Ù„ÙˆÙ† ØµØ§ÙŠØ± ğŸ˜", "Ù„Ù‚Ø·Ø© Ø®Ø±Ø§ÙÙŠØ© Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø§Ù„ØªÙ…ÙŠØ² âœ¨", "ÙŠØ§ Ù…Ø³Ø§ Ø§Ù„ÙØ®Ø§Ù…Ø©.. Ø´ÙˆÙÙˆØ§ Ù‡Ø§Ù„Ø²ÙŠÙ† ğŸ‘‘"
]

# Ø¬Ù…Ù„ ÙˆØµÙÙŠØ© (Ø£ÙƒØ«Ø± Ù…Ù† 60 Ø¬Ù…Ù„Ø©)
descs = [
    "Ø´ÙŠØ¡ ÙØ§Ø®Ø± ÙˆÙ…Ù† Ø§Ù„Ø¢Ø®Ø± ÙˆÙŠØ³ØªØ§Ù‡Ù„ÙƒÙ….", "Ø§Ù„Ø²ÙŠÙ† Ù…Ø§ ÙŠÙƒÙ…Ù„ Ø¥Ù„Ø§ Ø¨Ù‡ØŒ Ø¬ÙˆØ¯Ø© ÙˆØ³Ø¹Ø±.", "Ø±Ù‡ÙŠØ¨ ÙˆÙÙ†Ø§Ù† ÙˆØªØµÙ…ÙŠÙ…Ù‡ ÙŠÙØªØ­ Ø§Ù„Ù†ÙØ³.", 
    "ØªÙ‚ÙŠÙŠÙ…Ù‡ ÙŠØ·Ù…Ù† ÙˆØ¨ØµØ±Ø§Ø­Ø© Ù…Ø§ ÙŠØªÙÙˆØª.", "Ø®Ø§Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© ÙˆØ³Ø¹Ø±Ù‡Ø§ ÙŠØ§ Ø¨Ù„Ø§Ø´ ÙˆØ§Ù„Ù„Ù‡.", "ÙˆØ§Ù„Ù„Ù‡ Ù„Ùˆ Ù…Ø§Ù‡Ùˆ Ø¨Ø·Ù„ Ù…Ø§ Ø¬Ø¨ØªÙ‡ Ù„ÙƒÙ….", 
    "Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ³Ø¹Ø±Ù‡ ØµØ¯Ù…Ø© Ø¨ØµØ±Ø§Ø­Ø©.", "ÙŠØ³ØªØ§Ù‡Ù„ ÙƒÙ„ Ø±ÙŠØ§Ù„ ÙŠØ¯ÙØ¹ ÙÙŠÙ‡ ÙŠØ§Ù„Ø±Ø¨Ø¹.", "ÙØ®Ø§Ù…Ø© ÙˆØ¬ÙˆØ¯Ø© ÙˆØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙÙ†Ø§Ù†.",
    "ÙŠØ³ØªØ§Ù‡Ù„ ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯ÙƒÙ… Ø¨Ø§Ù„Ø¨ÙŠØª ÙˆØ¨Ù‚ÙˆØ©.", "Ù‚Ø·Ø¹Ø© ÙÙ†ÙŠØ© ÙˆØªØ¨ÙŠØ¶ Ø§Ù„ÙˆØ¬Ù‡ Ø¹Ù†Ø¯ Ø§Ù„ÙƒÙ„.", "ØªØ±Ø§Ù‡ ÙŠØ®Ù„Øµ Ø¨Ø³Ø±Ø¹Ø©ØŒ Ø§Ù„Ù„ÙŠ ÙŠØ¨ÙŠÙ‡ ÙŠÙ„Ø­Ù‚.",
    "Ø®ÙŠØ§Ø± Ø°ÙƒÙŠ Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø§Ù„Ø²ÙŠÙ† ÙˆØ¨Ø³.", "ØªØµÙ…ÙŠÙ… ÙŠÙØªØ­ Ø§Ù„Ù†ÙØ³ ÙˆØ³Ø¹Ø± ÙˆÙ„Ø§ ÙÙŠ Ø§Ù„Ø£Ø­Ù„Ø§Ù….", "ÙˆØ§Ù„Ù„Ù‡ Ù‚Ø·Ø¹Ø© Ù…ØªØ¹ÙˆØ¨ Ø¹Ù„ÙŠÙ‡Ø§ ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø©.", 
    "Ø§Ù„ÙƒÙ„ ÙŠÙ…Ø¯Ø­Ù‡ ÙˆØªØ¬Ø±Ø¨ØªÙ‡ ØªØ¨ÙŠØ¶ Ø§Ù„ÙˆØ¬Ù‡.", "Ù…Ù†Ø§Ø³Ø¨ Ø¬Ø¯Ø§Ù‹ ÙˆÙƒØ¯Ù‡ 100/100 ğŸ‘Œ", "Ø®Ø°Ù‡ ÙˆÙˆØ³Ø¹ ØµØ¯Ø±ÙƒØŒ ØªØ±Ø§Ù‡ ÙÙ†Ø§Ù†!",
    "Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù‚Ø·Ø¹ Ù…Ø¨ÙŠØ¹Ø§Ù‹ ÙˆØªÙ‚ÙŠÙŠÙ…Ù‡ Ø¹Ø§Ù„ÙŠ ğŸŒŸ", "ÙŠØ³ØªØ§Ù‡Ù„ ÙƒÙ„ Ù…Ø¯Ø­Ø© Ù‚ÙŠÙ„Øª ÙÙŠÙ‡ ÙˆØ§Ù„Ù„Ù‡ ğŸ”¥", "Ø¬ÙˆØ¯Ø© ØªØ¬Ø¨Ø±Ùƒ ØªØ·Ù„Ø¨Ù‡ Ø¨Ø¯ÙˆÙ† ØªÙÙƒÙŠØ± âœ¨",
    "Ù‚Ø·Ø¹Ø© Ù†Ø§Ø¯Ø±Ø© ÙˆØ³Ø¹Ø±Ù‡Ø§ Ø§Ù„ÙŠÙˆÙ… Ø®ÙŠØ§Ù„ÙŠ ğŸ’°", "ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙˆÙŠÙ†Ø§Ø³Ø¨ ÙƒÙ„ Ø§Ù„Ø£Ø°ÙˆØ§Ù‚ ğŸ˜", "Ù‡Ø°Ø§ Ø§Ù„Ù„ÙŠ ÙŠØ³Ù…Ù‰ Ø§Ø³ØªØ«Ù…Ø§Ø± Ù†Ø§Ø¬Ø­ ğŸ’",
    "ÙˆØ§Ù„Ù„Ù‡ Ù„Ùˆ Ø´ÙØªÙˆÙ‡ Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø¨ØªÙ†Ø¨Ù‡Ø±ÙˆÙ† âœ¨", "Ø®ÙŠØ§Ø± Ø¨Ø·Ù„ ÙˆØ³Ø¹Ø±Ù‡ Ø§Ù„ÙŠÙˆÙ… Ù„Ù‚Ø·Ø© Ø§Ù„Ø¹Ù…Ø± ğŸ”¥", "Ù…Ø§ ÙŠØ­ØªØ§Ø¬ ÙˆØµÙ.. Ø§Ù„Ø²ÙŠÙ† Ø¨Ø§ÙŠÙ† Ù…Ù† Ø¹Ù†ÙˆØ§Ù†Ù‡ ğŸ˜",
    "ØªÙ‚ÙŠÙŠÙ…Ù‡ ÙÙŠ Ø£Ù…Ø§Ø²ÙˆÙ† ÙŠØ®Ù„ÙŠÙƒ ØªØ·Ù„Ø¨Ù‡ ÙˆØ£Ù†Øª Ù…ØºÙ…Ø¶ âœ…", "Ù…Ù† Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù„ÙŠ ØªØ®Ø¯Ù…Ùƒ ÙˆØªØ¹ÙŠØ´ Ù…Ø¹Ùƒ ğŸŒŸ", "ÙØ®Ø§Ù…Ø© Ù„Ø§ ØªÙˆØµÙ ÙˆØ³Ø¹Ø± ÙŠØ¨Ø±Ø¯ Ø§Ù„Ù‚Ù„Ø¨ ğŸ’",
    "Ø§Ù„Ø²ÙŠÙ† ÙŠÙØ±Ø¶ Ù†ÙØ³Ù‡ ÙÙŠ Ù‡Ø§Ù„Ù…ÙƒØ§Ù† âœ¨", "Ù‚Ø·Ø¹Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ ğŸ”¥", "ØªØ±Ø§Ù‡Ø§ ÙØ±ØµØ© ÙˆØ§Ù„ÙØ±Øµ Ù…Ø§ ØªØªÙƒØ±Ø± ÙˆØ§Ø¬Ø¯ ğŸ¯",
    "ÙŠØ³ØªØ§Ù‡Ù„ ÙƒÙ„ Ø«Ù†Ø§Ø¡ ÙˆÙƒÙ„ Ø±ÙŠØ§Ù„ ÙŠÙ†Ø¯ÙØ¹ ÙÙŠÙ‡ ğŸŒŸ", "ØµÙ†Ø§Ø¹Ø© Ù…ØªÙ‚Ù†Ø© ÙˆØ´ÙƒÙ„ ÙŠØ§Ø®Ø° Ø§Ù„Ø¹Ù‚Ù„ ğŸ˜", "Ù‡Ø°Ø§ Ø§Ù„Ù„ÙŠ ÙŠØ¯ÙˆØ± Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ù„ÙŠ ÙŠØ¹Ø±ÙÙˆÙ† Ù„Ù„Ø²ÙŠÙ† âœ¨",
    "Ù„Ø§ ØªÙÙˆØªÙƒÙ… Ù‡Ø§Ù„Ù‚Ù†ØµØ©.. ØªØ±Ø§Ù‡ Ù„Ù‚Ø·Ø© Ø¨Ù…Ø¹Ù†Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø© ğŸ”¥", "Ù‚Ø·Ø¹Ø© ØªØ¨ÙŠØ¶ ÙˆØ¬Ù‡Ùƒ ÙˆØªØ¬Ù…Ù„Ùƒ Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ø±Ø¨ ğŸ’", "ÙˆØ§Ù„Ù„Ù‡ Ø¥Ù†ÙŠ Ù‚Ù†ØµØªÙ‡Ø§ Ù„ÙƒÙ… Ù‚Ù†Øµ ÙŠØ§Ù„Ø±Ø¨Ø¹ ğŸ¯"
]

def get_product_data(url):
    try:
        headers_list = [
            {"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36"},
            {"User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}
        ]
        res = requests.get(url, headers=random.choice(headers_list), timeout=25)
        soup = BeautifulSoup(res.content, 'html.parser')

        # 1. Ø§Ù„Ø§Ø³Ù… (Ø³Ø·Ø±ÙŠÙ†)
        title_tag = soup.select_one('#productTitle') or soup.find("meta", property="og:title")
        raw_title = title_tag.get_text().strip().replace("Amazon.sa :", "").strip() if title_tag else "Ù…Ù†ØªØ¬ Ù…Ù…ÙŠØ²"
        words = raw_title.split()
        product_info = " ".join(words[:13]) + ".." if len(words) > 13 else raw_title

        # 2. Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø¯ÙˆÙ† Ù‡Ù„Ù„Ø§Øª ÙˆØ¨Ø¯ÙˆÙ† Ù†Ù‚Ø§Ø·)
        price = "Ø´ÙŠÙƒ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø· ğŸ·ï¸"
        price_selectors = ['.a-price .a-offscreen', 'span.a-price-whole', '#corePrice_feature_div .a-price-whole']
        for sel in price_selectors:
            p_tag = soup.select_one(sel)
            if p_tag and p_tag.text.strip():
                # Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‡Ù„Ù„Ø§Øª ÙˆØ§Ù„Ø±Ù…ÙˆØ²
                raw_p = p_tag.text.strip().split('.')[0]
                clean_p = re.sub(r'[^\d]', '', raw_p)
                if clean_p:
                    price = f"{clean_p} Ø±ÙŠØ§Ù„"
                    break

        # 3. Ø§Ù„ØµÙˆØ±Ø© (Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©)
        img_url = None
        img_tag = soup.select_one('#landingImage') or soup.select_one('#imgBlkFront')
        if img_tag:
            if img_tag.has_attr('data-a-dynamic-image'):
                links = re.findall(r'(https?://[^\s"]+)', img_tag['data-a-dynamic-image'])
                img_url = links[-1] if links else img_tag.get('src')
            else:
                img_url = img_tag.get('src')

        # 4. Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
        caption = (
            f"{random.choice(intros)}\n\n"
            f"ğŸ“¦ **Ø§Ù„Ù…Ù†ØªØ¬:** {product_info}\n\n"
            f"ğŸ’° **{random.choice(price_labels)}** {price}\n"
            f"ğŸ‘Œ {random.choice(descs)}\n\n"
            f"ğŸ”— **Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨:** {url}"
        )
        return caption, img_url
    except:
        return None, None

@bot.message_handler(func=lambda message: True)
def handle_message(message):
    if "http" in message.text:
        url_match = re.search(r'(https?://\S+)', message.text)
        if url_match:
            url = url_match.group(0)
            bot.send_chat_action(message.chat.id, 'upload_photo')
            caption, img_url = get_product_data(url)
            if caption:
                try:
                    if img_url: bot.send_photo(message.chat.id, img_url, caption=caption, parse_mode='Markdown')
                    else: bot.send_message(message.chat.id, caption, parse_mode='Markdown')
                except:
                    bot.send_message(message.chat.id, caption, parse_mode='Markdown')
            else:
                bot.reply_to(message, "Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹ÙŠÙ‘Ø§ ÙŠÙØªØ­ØŒ Ø¬Ø±Ø¨ÙŠ ØºÙŠØ±Ù‡ ÙŠØ§ Ø¨Ø¹Ø¯ÙŠ ğŸ’”")

print("Ø§Ù„Ø¨ÙˆØª Ø´ØºØ§Ù„.. Ø¨Ø¨Ù†Ùƒ ÙƒÙ„Ù…Ø§Øª Ø³Ø¹ÙˆØ¯ÙŠ Ø¶Ø®Ù…!")
bot.polling()
